/**
* Mux.js v1.1.0
* (c) 2014 guankaishe
* Released under the MIT License.
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Mux=b():a.Mux=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";a.exports=c(1)},function(a,b,c){"use strict";function d(a){h(a),f.call(this,a)}function e(a){return h(a),function(b){f.call(this,a,b)}}function f(a,b){function c(a,b){return~B.indexOf(b)?m.warn('"'+prop+"\" is a computed property, couldn't depend a computed property"):(n.patch(E,b,[]),void(~E[b].indexOf(a)||E[b].push(a)))}function d(a,b){"array"==n.type(b)&&l(b,function(c,d,f){var g=b.slice(0),h=d.apply(b,f);return D[a]=b,v.emit("change:"+a,b,g),e(a),h})}function e(a){(E[a]||[]).forEach(function(a){n.patch(C,a,{}),C[a].pre=C[a].current,C[a].current=(z[a].fn||g).call(u,u),v.emit("change:"+a,C[a].current,C[a].pre)})}function f(a,b,c){var d=k.normalize(a).split("."),e=d[0];if(~B.indexOf(e))return m.warn("Can't set value to computed property \""+e+'"'),!1;if(!~A.indexOf(e))return m.warn('Property "'+e+'" has not been observed'),!1;var f=D[e];c&&c(),k.set(D,a,b);var g=D[e];return{mounted:e,next:g,pre:f}}function h(a,b){var c=n.merge({},u),g=f(a,b);if(g&&n.diff(g.next,g.pre)){var h=g.mounted;d(h,D[h]),e(h),v.emit("change:"+h,g.next,g.pre),v.emit("*",n.merge({},u),c)}}function o(a){if(a&&"object"==n.type(a)){var b,c=[],e=n.merge({},u),h=!1;for(var i in a)if(a.hasOwnProperty(i)){if(b=f(i,a[i]),!b)continue;if(b.next!==b.pre||b.next instanceof Object){var j=b.mounted;d(j,D[j]),v.emit("change:"+j,b.next,b.pre),(E[j]||[]).reduce(function(a,b){return~a.indexOf(b)||a.push(b),a},c),h=!0}}c.forEach(function(a){n.patch(C,a,{});var b=C[a].pre=C[a].current,c=C[a].current=(z[a].fn||g).call(u,u);n.diff(c,b)&&v.emit("change:"+a,c,b)}),h&&v.emit("*",n.merge({},u),e)}}function p(a,b){var c=arguments.length;return j(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~A.indexOf(a)?void(c>1&&h(a,b)):(D[a]=b,A.push(a),void Object.defineProperty(u,a,{enumerable:!0,get:function(){return D[a]},set:function(b){h(a,b)}}))}function q(a){var b={};a.forEach(function(a){j(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~A.indexOf(a)||(A.push(a),b[a]={enumerable:!0,get:function(){return D[a]}})}),Object.defineProperties(u,b)}function r(a){var b,c={};n.objEach(a,function(d,e){return e=a[d],j(!d.match(/[\.\[\]]/),"Unexpect propname NaN"),~A.indexOf(d)?(!b&&(b={}),void(b[d]=e)):(D[d]=e,A.push(d),void(c[d]={enumerable:!0,get:function(){return D[d]}}))}),Object.defineProperties(u,c),b&&o(b)}function s(a,b,d){switch(!1){case"string"==n.type(a):m.warn("Computed property's name should be type of String");case"array"==n.type(b):m.warn('Computed property\'s "deps" should be type of Array');case"function"==n.type(d):m.warn('Computed property\'s "fn" should be type of Function')}~B.indexOf(a)||(B.push(a),z[a]={deps:b,fn:d},(b||[]).forEach(function(b){c(a,b)}),n.patch(C,a,{}),C[a].current=(d||g).call(u,u),Object.defineProperty(u,a,{enumerable:!0,get:function(){return C[a].current}}))}var t,u=this,v=new i(u),w=a.props,x={},y={};t="function"==n.type(w)?w():"object"==n.type(w)?w:{};var z=a.computed||{},A=Object.keys(t),B=Object.keys(z),C={},D={},E={};A.forEach(function(a){D[a]=t[a];var b=D[a];d(a,b),x[a]={enumerable:!0,get:function(){return D[a]},set:function(b){h(a,b)}}}),Object.defineProperties(u,x),x=null,B.forEach(function(a){var b=z[a],d=b.deps,e=b.fn;"function"!=n.type(e)&&m.warn("Computed property "+a+'\'s "fn" should be a function'),d&&(d.forEach(function(b){c(a,b)}),n.patch(C,a,{}),C[a].current=(e||g).call(u,u),y[a]={enumerable:!0,get:function(){return C[a].current},set:function(){m.warn("Can not set value to a computed property")}})}),Object.defineProperties(u,y),y=null,Object.defineProperties(u,{$add:{enumerable:!1,value:function(){var a=arguments[0],b=n.type(a);return"string"==b?arguments.length>1?p(arguments[0],arguments[1]):p(arguments[0]):"array"==b?q(a):"object"==b&&r(a),this}},$computed:{enumerable:!1,value:function(a,b,c){if("string"==n.type(a))s(a,b,c);else if("object"==n.type(a)){var d=arguments[0];for(a in d){var e=d[a];s(a,e.deps,e.fn)}}else m.warn('$computed params show be "(String, Array, Function)" or "(Object)"');return this}},$set:{enumerable:!1,value:function(){var a=arguments.length;return a>=2||1==a&&"string"==n.type(arguments[0])?h(arguments[0],arguments[1]):1==a&&"object"==n.type(arguments[0])?o(arguments[0]):m.warn("Unexpect $set params"),this}},$get:{enumerable:!1,value:function(a){return~A.indexOf(a)?D[a]:~B.indexOf(a)?(z[a].fn||g).call(u,u):void 0}},$watch:{enumerable:!1,value:function(){var a,b,c=arguments.length;if(c>=2)a="change:"+arguments[0],b=arguments[1];else{if(1!=c||"function"!=n.type(arguments[0]))return m.warn("Unexpect $watch params"),g;a="*",b=arguments[0]}v.on(a,b);var d=this,e=arguments;return function(){d.$unwatch.apply(d,e)}}},$unwatch:{enumerable:!1,value:function(){var a,b=arguments.length;return b>=2?(a="change:"+arguments[0],v.off(a,arguments[1])):1==b&&"string"==n.type(arguments[0])?v.off("change:"+arguments[0]):1==b&&"function"==n.type(arguments[0])?v.off("*",arguments[0]):0==b?v.off():m.warn("Unexpect param type of "+arguments[0]),this}}}),o(b)}function g(){}function h(a){if(a){var b=a.props,c=a.computed;b&&j.type(b,["function","object"]),c&&j.type(c,["object"])}}var i=c(2),j=c(3),k=c(4),l=c(5),m=c(6),n=c(7);d.extend=function(a){return e(a)},d.config=function(a){a.warn===!1?m.disable():m.enable()},a.exports=d},function(a){"use strict";function b(a){this._observers={},this._context=a}function c(a,b,c){!a[b]&&(a[b]=c)}function d(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()}b.prototype.on=function(a,b){c(this._observers,a,[]),this._observers[a].push({cb:b})},b.prototype.off=function(a,b){var c,e=arguments.length;if(e>=2)c=[a];else if(1==e&&"function"==d(arguments[0]))b=arguments[0],c=Object.keys(this._observers);else{if(1!=e)return this._observers=[],this;c=[a]}var f=this;return c.forEach(function(a){var c=f._observers[a];if(c){var d=[];b&&c.forEach(function(a){a.cb!==b&&d.push(a)}),f._observers[a]=d}}),this},b.prototype.emit=function(a){var b=this._observers[a];if(b){var c=[].slice.call(arguments);c.shift();var d=this;b.forEach(function(a){a.cb&&a.cb.apply(d._context||null,c)})}};var e=new b;b.on=function(){e.on.apply(e,arguments)},b.off=function(){e.off.apply(e,arguments)},b.emit=function(){e.emit.apply(e,arguments)},a.exports=b},function(a,b,c){"use strict";function d(a,b){if(!a)throw new Error(b||"Unexpect error")}var e=c(7);d.type=function(a,b,c){var d=e.type(b),f=e.type(a);if("string"==d){if(f!=b)throw new Error(c||"Expect param's type be "+b+" not "+f)}else if("array"==d&&!b.some(function(a){return f==a?!0:void 0}))throw new Error(c||"Unexpect param's type "+f+", it should one of "+b.join(","))},a.exports=d},function(a){"use strict";function b(a){return new String(a).replace(/\[([^\[\]])+\]/g,function(a,b){return"."+b})}function c(a,c,d){var e=b(c).split("."),f=e.pop(),g=a;return e.forEach(function(a){g=g[a]}),g[f]=d,a}function d(a,c){var d=b(c).split("."),e=a;return d.forEach(function(a){e=e[a]}),e}a.exports={normalize:b,set:c,get:d}},function(a){"use strict";var b=["splice","push","pop","shift","unshift"],c="__hook__";a.exports=function(a,d){b.forEach(function(b){if(!a[b][c]){var e=a[b];a[b]=function(){return d(b,e,arguments)},Object.defineProperty(a[b],c,{enumerable:!1,value:!0})}})}},function(a){"use strict";var b=!0;a.exports={enable:function(){b=!0},disable:function(){b=!1},warn:function(a){return b?console.warn?console.warn(a):void console.log(a):void 0}}},function(a){"use strict";a.exports={type:function(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()},objEach:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},patch:function(a,b,c){!a[b]&&(a[b]=c)},diff:function(a,b){return a!==b||a instanceof Object},merge:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}}}])});